# di 小测内容总结

## 1 - 20210816 - 数学基础

- 有两个线性滤波器，单位冲激响应分别是h1h2。
  - 由该两个线性滤波器级联组成的系统是否一定是线性滤波器？【是】
  - 级联顺序不同，结果还一样吗？【一样】

- 线性系统$y(t)=\frac{dx}{dt}$，傅里叶变换是$Y(\omega)=j\omega$，是线性滤波器，并且是高通滤波器。
- 对于一个线性系统，时域分析和频域分析的方法可以相互转化，并且分析的对象本质上是一样的。
- 线性系统：
  - 恒等系统的采样函数（δ(t)）的响应（h(t)）就是单位冲激（δ(t)）。
  - 一个激励信号经过一个高通滤波器再经过一个低通滤波器，输出信号可能为0也可能不为0。
- 傅里叶变换：（以下都是陈述句）
  - 输入放大A倍，输出也放大A倍。
  - 输入线性叠加，输出也线性叠加。
  - 可逆的。（虽然对于Dirichlet函数有不妙的行为，但我们不考虑这个。）

## 2 - 20211010 - 成像 & 几何变换

- 成像系统：
  - 包括硬件和软件，不只有硬件也不只有软件。
  - 目标是获得图像（对现代成像系统，大多数指数字图像）。
  - 灰度值并不总是[0,255]。
  - 【成像系统生成图像值的动态范围】并不需要与【显示设备表达的动态范围】相匹配。比如医学影像，采用不同的灰度窗口，可以看出不同的信息。
- 光学相机的【镜头、光电传感器、集成在处理芯片中的处理算法】部件对成像质量有影响。
- 二值图像：
  - 二值表示状态，是boolean值。
  - 二值图像不是灰度图像。
  - 不能直接用灰度图像处理的算法。
  - 线性滤波器并不是二值图像处理的常用算法。
- 图像几何变换：
  - 基本要求是，像素的坐标发生变化，像素值不变。
  - 编程实现时，应该遍历目标图像像素，根据坐标映射函数的反函数计算在原始图像中的位置，并获得像素值。
  - 平移缩放旋转虽然都是线性变换，但串联几种变换时，串联顺序不同，结果不同。
- 图像插值：
  - 多项式插值时，并不是项数越高效果越好。
  - 评估插值算法优劣，不存在绝对标准。
  - 已存在像素的插值结果，必须与该像素的采样值相同。
  - 对RGB图像插值时，可以分别对3个分类进行灰度插值（错，但不知道为什么）。

## 3 - 20211025 - 灰度映射

- 最可能是【曝光不足】灰度图像的【累计直方图】：先陡增，后平缓，因为大多数灰度都集中在低灰度段。
- 不合理的灰度映射函数：非【单调】的。单调增很合理，单调减是颠倒黑白的，但也是合理的（比如骨科医生希望骨头发亮）。
- 图像的灰度直方图：
  - 可以反映图像灰度【动态范围】。
  - 是设计图像灰度映射的依据。
  - 可以看出【曝光不足/曝光过度】。
  - 没法反映图像中的纹理走向。
- gamma映射：对【直方图集中在低灰度段】的图像，γ＜1，低灰度段拉伸。
- 细节增强的灰度映射：把聚类严重的灰度范围拉宽。
  - 直方图均衡：可以。…只要能拉宽，就可以。
    - 我先前的顾虑：直方图均衡算法的最后一步，是把处理后的灰度值离散化到灰度级，这个离散化的过程可能丢失图像细节，所以，可以说“直方图均衡可以用于细节增强”吗？
    - 这里的context是【细节增强→拉伸密集灰度段，使直方图更均衡】，所以是可以的。至于细节损失，一般出现被压缩的段，但我们要处理的图像只包含一撮灰度，剩下灰度范围根本没有像素，所以没问题。并且只要有离散化，就会损失细节，连续的灰度映射很少都需要离散化。所以主要是看清context吧。
  - 在【灰度密集区域】为水平直线：不可以。
  - 在【灰度密集区域】斜率＞1的曲线：可以。
  - 先水平、后在【灰度密集区域】斜率＞1的 分段线性映射：不确定，担心水平段丢失低灰度段的细节。后来得知可以。

## 4 - 20211101 - 图像平滑

- 什么样的卷积核可以降噪：
  $$
  right:
  \frac15
  \left[\begin{array}{}
  0 & 1 & 0\\
  1 & 1 & 1\\
  0 & 1 & 0
  \end{array}\right]
  ~~~~
  \frac19
  \left[\begin{array}{}
  1 & 1 & 1\\
  1 & 1 & 1\\
  1 & 1 & 1
  \end{array}\right]
  \\
  wrong:
  \left[\begin{array}{}
  0 & -1 & 0\\
  -1 & 5 & -1\\
  0 & -1 & 0
  \end{array}\right]
  \left[\begin{array}{}
  -1 & -1 & -1\\
  -1 & 9 & -1\\
  -1 & -1 & -1
  \end{array}\right]
  $$
  
- 高斯滤波器：

  - 传递函数（而非点扩展函数，即卷积核）是高斯函数（正态分布概率密度）。
  - 可以在频域实现，也可以在空间域实现。

- 以下说法合理的有：

  - 中值滤波器在抑制噪声的同时，阶跃边界不会被破坏（柔和）【对】。
  - 中值滤波器窗口越大，降噪能力越强。【对】因为它可以处理掉＜窗口面积/2的噪声。
  - 因此，中值滤波器窗口越大越好。【错】同时也会丢失＜窗口面积/2的图像细节，因此要谨慎。
  - 中值滤波器是低通滤波器。【错】根本不是线性方法（有排序），虽然被叫做滤波器。
  - 均值滤波器的窗口宽度决定抑制噪声的能力，窗口尺寸越大，抑制噪声能力越强。【对】
  - 低通滤波器可以抑制图像噪声，同时也会损失高频信息。【对】

- 不采用理想低通滤波器抑制噪声的原因：

  - 要在频域实现，计算复杂性太大。【错】完全可以在空间域实现。
  - 理想的是不可实现的。【错】那只是时域的情况，现在是空间域，非因果也没关系。
  - 截止频率难以确定。【对】因此舍弃全部高频分量太武断，我们转而采用削弱高频分量的方法。
  - 会产生振铃效应。【对】即，如果图像正中央有一个亮点，其他部分都是暗的，经过卷积后（卷积核为sinc函数），就会有涟漪状波纹。

- 如果图像噪声是乘积型（$f(x,y)=I(x,y)n(x,y)$），其中n是服从高斯分布的均值为1的随机噪声。可不可以用高斯滤波器，怎么用？

  - 可以用，取个对数就是加性噪声了。

## 5 - 20211108 - 图像平滑 & 锐化

- 简述：如何用高斯滤波器锐化图像边界。
  - 高斯滤波器是典型的低通滤波器。
  - 用高斯滤波器得到低频分量，原信号减去低频分量得到高频分量。
  - 将高频部分乘一个＞0的系数，加到原信号上。
  - 另解：削弱低频部分，但是可能会减小直流分量。
- 简述：使用线性方法，构造边界锐化算法，需要关心的最核心问题？
  - 在锐化边界和放大噪声之间做权衡。
- 用3步来处理图像：1 灰度窗调整，2 中值滤波器，3 unsharp masking，应该如何排序？
  - ~~错解：132，先调整到合适的灰度窗（剩下的灰度没有意义，想想医学图像的实验），再 unsharp masking（线性算法没有信息损失），最后中值滤波器（信息损失）。~~
  - 灰度窗调整应该放在【最后一步】，因为损失信息太多。
  - 中值滤波器和unsharp masking的顺序无所谓。
  - 所以 321 和 231 都对。
  - 关于错解：“灰度窗”的context，就是随时变化的窗口窗位，因此要放最后。锐化和平滑一般往前放。虽然非线性方法损失信息，但线性方法也会最后离散化灰度，因此好像也要损失信息，所以无所谓了。
  - 在图像处理的context里，只要受众是人眼，就没有损失信息的说法，只有失真的说法。
- 提高图像对比度的算法：
  - Retinex算法【对】，就是同态滤波。
  - 均值滤波器【错】，会变模糊。
  - 直方图均衡【对】，提高总体对比度。
  - 中值滤波器【错】，整体上好像没影响，但是会丢失细节。
- 以下正确的有：
  - 使用线性滤波器方法，先平滑图像（降噪）再锐化边界，或者先锐化再平滑，效果一样。【对】线性系统可交换可结合。
  - 先平滑图像再锐化边界，这样的顺序有助于控制结果中的噪声成分。【对】先中值滤波器把噪点都滤掉，然后放心地锐化边界。
  - 使用线性方法锐化边界时，会放大噪声。【对】





















