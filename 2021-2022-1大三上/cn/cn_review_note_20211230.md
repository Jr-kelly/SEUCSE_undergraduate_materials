# cn review note 20211230

第四章作业。分配网络地址：预留全0全1。

虽然但是，广播地址一定是全1吗？感觉这个题并不太规整。

直连网不需要子网/广播地址？

最长前缀匹配规则确定子网。

子网表示（前缀） / IP地址范围。

就拿C前面那个子网的地址，减全0全1（直接子网地址+全1）。然后再搞120个子网。



这次考试有计算题。

分片。MTU：链路层有效的数据单元，好像就是链路层包最大多少。

要会算dijk和floyd。

算CRC，算校验码。



跨子网的链路层转发，与目的MAC地址的改变（目的IP地址不变）。



题目精心设计，希望把我们会的东西展现出来，希望我们喜欢。把题目看明白。

在理解的基础上解决问题。



DHCP第一个request报文是MAC的广播地址，希望找到DHCP服务器。



选择20题 2，判断10题 1，简答6题 5，综合2题 10。



ch1：

协议要素：语法语义时序（分别什么意思，感性理解）。

网络构成：接入网，端系统，网络核心。

第一张的计算题，时延（4种）、丢包（排队时延，什么时候会丢包）、吞吐量

ch2：

CS（BS）（HTTP SMTP POP3 IMAP DNS），P2P（bit torrent），hybrid。

进程之间的通信，socket。进程的编址：端口号。

调用传输层服务来送message。

email整个过程，有几种协议可以用来收邮件。

ch3：

传输层的目的（实现进程间通信）/功能。数据封装成传输层packet，de multiplexing。socket连接应用层传输层。

UDP的checksum，src port dest port。8byte。TCP是20byte。

通用的可靠性传输原理：校验和（反码求和），ACK，stop-wait，retransmit，seq#，timer，滑动窗口，累计确认，流水线协议 GBN SR。其中一些属于TCP。

TCP结合了GBN和SR。

流量控制：接收端缓冲区大小来控制发送端。

拥塞控制：slow start，congestion avoidance，fast recovery。策略 reno tahoe。

ch4：

网络层的物理位置：端系统 & 路由器。尽力而为：参与的系统更复杂。

HOL（队头阻塞）。路由器的工作原理，3种交换结构，输入端口输出端口结构（不太知道），相关的排队调度。

IP协议的语法语义，报文格式，和分片有关的字段（就是IP层的分片啊）。

IP地址不够用：NAT，地址转换协议。理解+掌握，IPv4的内容都是如此。IPv6了解即可。

地址段的划分，CIDR（无类域间路由协议），最长前缀匹配。

ch5：

控制平面，主要是路由算法。route命令，静态配置路由表项。路由算法学习路由表。

LS DV。OSPF（LS），BGP（AS不想免费互为桥接，用了TCP的半连接）。RIP没讲。

ICMP：啊，没听…… 为什么有BGP：ISP之间的问题。

ICMP的应用：差错检测，BGP的路由通告。traceroute，ping，大概原理（尤其是traceroute）（ping能告诉我什么）。

……网络层是最核心的？

ch6：

从一个NIC（网络接口卡）到另一个NIC。这就是链路层的位置。

差错纠正。奇偶校验，CRC（必须会，是必考的意思吗）

多路访问（全双工 / 多个点对点 必须）。TDM FDM CDMA（信道）（访问方式）时隙aloha，纯aloha，轮询，令牌环网CSMA（载波侦听多路访问，先听后发，但直接用也不好）CSMA CD。

局域网：48位烧在网卡上的MAC地址。ARP协议来匹配IP MAC地址。

以太网是802.3的标准，稍微了解星形（现在正在用，点对点）环形拓扑。

switch：链路层硬件设备。即插即用，自学习。一个网段（局域网），交换机透明（还是自学习）。但网络层router的转发就要路由协议（不透明）。

层次式的交换机可以连成超大的LAN，会有广播风暴（超大范围广播，占很大流量）。因此产生VLAN，虚拟的LAN。

ch7：

CSMA CA。与CD对比。



接下来我们仔细一点：

ch1：

红色是重点。应该复习完就会了的。

时延啊时延。propagation & transmission。

吞吐量，瓶颈决定。

怎么理解OSI。

ch2：

为什么有人TCP有人UDP？

email客户端的user-agent。

DNS也是应用层。域名服务器怎么部署，谁来部署，有几种，怎么查询。

cookie的作用，为了干什么（HTTP无状态，为了保持状态）

HTTP的非持续性连接 / 持续性连接。

ch3：

传输层还在端系统上。红色的东西理解并掌握。传输层是重点。

流水线协议：提高信道利用率（发包时间/全部时间，看那个公式）

TCP的报文格式，SYN FIN ACK。三次握手四次挥手。

ch4：

红色的都很重要。NAT也很重要诶。

一个IP地址和一个接口，好像也不一定一一对应，内网里面可以用重复的IP地址，但internet里面要求IP地址唯一。

offset=0，是分片开始。

ch5：

LV：全局静态。DV：异步更新，bellman-ford。

ch6：

实现nic到nic的传输。传输层：p 2 p。网络层：pc 2 pc。

PPP可以跳过。

诶，switch也是存储转发。

ch7：

CSMA CA：解决隐藏终端问题。使用了ACK。counter（感觉是timer）。



最后一页有一些提问。

端口号也是地址。

问答题没标准答案，看自己的思考。不是6分，一个点一分这种。还要解释一下。

各种协议里面都用到rdt机制。

MAP：多路访问/接入协议。









